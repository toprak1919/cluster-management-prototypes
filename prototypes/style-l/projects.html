<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projects - Cluster Management</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script>
  tailwind.config = {
    theme: {
      extend: {
        fontFamily: { body: ['Inter', 'system-ui', 'sans-serif'] },
      }
    }
  }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', system-ui, sans-serif; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes barGrow { from { width: 0; } }
    @keyframes pulseStep { 0%,100% { box-shadow: 0 0 0 0 rgba(15,118,110,0.4); } 50% { box-shadow: 0 0 0 8px rgba(15,118,110,0); } }
    @keyframes stepReveal { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1); } }
    @keyframes fillDonut { from { stroke-dashoffset: 188.496; } }
    .anim-slide-up { animation: slideUp 0.5s ease-out forwards; opacity: 0; }
    .anim-delay-1 { animation-delay: 0.1s; }
    .anim-delay-2 { animation-delay: 0.2s; }
    .anim-delay-3 { animation-delay: 0.3s; }
    .anim-delay-4 { animation-delay: 0.4s; }
    .anim-delay-5 { animation-delay: 0.5s; }
    .anim-delay-6 { animation-delay: 0.6s; }
    .bar-grow { animation: barGrow 1s ease-out forwards; }
    .pulse-active { animation: pulseStep 2s ease-in-out infinite; }
    .step-reveal { animation: stepReveal 0.4s ease-out forwards; opacity: 0; }
    .donut-anim { animation: fillDonut 1.2s ease-out forwards; }
  </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen">

  <div class="flex min-h-screen" x-data="{
    sidebarOpen: true,
    mobileOpen: false,
    projects: [
      { name: 'Transnational Migration Patterns', id: 'TMP-2023', directors: ['Dr. Amina Osei'], section: 'Mobility', start: '2023-01-01', end: '2026-12-31', reportDeadline: 'Mar 15, 2026', reportRequested: true, reportRequestedOn: '2026-01-10', reportSubmitted: false, requested: 380000, approved: 350000, genderResearch: true, publications: [{year: 2024, planned: '2 journal articles', achieved: '1 journal article', costs: 2500}, {year: 2025, planned: '1 edited volume', achieved: '', costs: 0}] },
      { name: 'Decolonizing Knowledge Systems', id: 'DKS-2024', directors: ['Prof. Kwame Asante', 'Dr. Fatou Diallo'], section: 'Epistemologies', start: '2024-06-01', end: '2028-05-31', reportDeadline: 'Jun 10, 2026', reportRequested: true, reportRequestedOn: '2026-02-01', reportSubmitted: false, requested: 1200000, approved: 1100000, genderResearch: true, publications: [{year: 2025, planned: '3 journal articles', achieved: '1 working paper', costs: 1800}] },
      { name: 'Climate Adaptation Strategies', id: 'CAS-2022', directors: ['Dr. Yusuf Ibrahim'], section: 'Environment', start: '2022-03-01', end: '2026-06-30', reportDeadline: 'Apr 3, 2026', reportRequested: true, reportRequestedOn: '2025-12-15', reportSubmitted: false, requested: 450000, approved: 420000, genderResearch: false, publications: [{year: 2023, planned: '2 articles', achieved: '2 articles', costs: 3200}, {year: 2024, planned: '1 monograph', achieved: '1 monograph', costs: 8500}] },
      { name: 'Visual Cultures of Africa', id: 'VCA-2024', directors: ['Prof. Elena Rossi'], section: 'Arts', start: '2024-01-01', end: '2027-12-31', reportDeadline: 'Jul 20, 2026', reportRequested: false, reportRequestedOn: '', reportSubmitted: false, requested: 290000, approved: 275000, genderResearch: true, publications: [{year: 2025, planned: '2 articles, 1 exhibition catalogue', achieved: '', costs: 0}] },
      { name: 'Language and Power', id: 'LAP-2025', directors: ['Prof. Aisha Mwangi'], section: 'Linguistics', start: '2025-09-01', end: '2028-08-31', reportDeadline: '', reportRequested: false, reportRequestedOn: '', reportSubmitted: false, requested: 180000, approved: 165000, genderResearch: false, publications: [] },
      { name: 'Digital Heritage Archives', id: 'DHA-2025', directors: ['Prof. Hans Mueller', 'Dr. Jean-Pierre Kouadio'], section: 'Digital', start: '2025-04-01', end: '2029-03-31', reportDeadline: '', reportRequested: false, reportRequestedOn: '', reportSubmitted: false, requested: 890000, approved: 0, genderResearch: true, publications: [] }
    ],
    formatCurrency(n) {
      if (n >= 1000000) return (n/1000000).toFixed(1) + 'M';
      if (n >= 1000) return (n/1000).toFixed(0) + 'K';
      return n.toString();
    }
  }">

    <!-- Sidebar -->
    <aside :class="sidebarOpen ? 'w-60' : 'w-16'" class="hidden lg:flex flex-col bg-slate-800 text-slate-300 transition-all duration-300 fixed inset-y-0 left-0 z-40">
      <div class="flex items-center gap-3 px-4 h-16 border-b border-slate-700">
        <svg class="w-8 h-8 text-teal-400 shrink-0" viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2.5"/><path d="M10 20 Q16 8 22 20" stroke="currentColor" stroke-width="2" fill="none"/><circle cx="16" cy="14" r="3" fill="currentColor"/></svg>
        <span x-show="sidebarOpen" x-transition class="text-white font-semibold text-sm whitespace-nowrap">Africa Multiple</span>
      </div>
      <nav class="flex-1 py-4 space-y-1 px-2 overflow-y-auto">
        <a href="dashboard.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 transition border-l-[3px] border-transparent">
          <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-4 0h4"/></svg>
          <span x-show="sidebarOpen" class="text-sm">Dashboard</span>
        </a>
        <div class="text-xs font-semibold uppercase tracking-wider text-slate-500 px-3 mt-4 mb-2" x-show="sidebarOpen">Persons</div>
        <a href="listing.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 transition border-l-[3px] border-transparent">
          <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
          <span x-show="sidebarOpen" class="text-sm">Persons</span>
        </a>
        <a href="detail.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 transition border-l-[3px] border-transparent pl-9">
          <span x-show="sidebarOpen" class="text-sm text-slate-400">Person Detail</span>
        </a>
        <div class="text-xs font-semibold uppercase tracking-wider text-slate-500 px-3 mt-4 mb-2" x-show="sidebarOpen">Research</div>
        <a href="projects.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg bg-teal-500/10 text-white border-l-[3px] border-teal-400">
          <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/></svg>
          <span x-show="sidebarOpen" class="text-sm font-medium">Projects</span>
        </a>
        <a href="events.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 transition border-l-[3px] border-transparent">
          <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
          <span x-show="sidebarOpen" class="text-sm">Events</span>
        </a>
        <a href="institutions.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 transition border-l-[3px] border-transparent">
          <svg class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
          <span x-show="sidebarOpen" class="text-sm">Institutions</span>
        </a>
      </nav>
      <div class="border-t border-slate-700 p-3">
        <a href="../index.html" class="flex items-center gap-2 text-xs text-slate-500 hover:text-slate-300 transition" x-show="sidebarOpen">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M11 17l-5-5m0 0l5-5m-5 5h12"/></svg>
          All Prototypes
        </a>
        <button @click="sidebarOpen = !sidebarOpen" class="w-full flex items-center justify-center mt-2 p-1.5 rounded hover:bg-slate-700 transition cursor-pointer">
          <svg class="w-4 h-4 transition-transform" :class="sidebarOpen ? '' : 'rotate-180'" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M11 19l-7-7 7-7m8 14l-7-7 7-7"/></svg>
        </button>
      </div>
    </aside>

    <!-- Mobile header -->
    <div class="lg:hidden fixed top-0 inset-x-0 z-40 bg-slate-800 h-14 flex items-center px-4 gap-3">
      <button @click="mobileOpen = !mobileOpen" class="text-white cursor-pointer">
        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
      <span class="text-white font-semibold text-sm">Cluster Management</span>
    </div>
    <div x-show="mobileOpen" @click="mobileOpen = false" class="lg:hidden fixed inset-0 bg-black/50 z-40" x-transition.opacity></div>
    <div x-show="mobileOpen" x-transition:enter="transition transform ease-out duration-200" x-transition:enter-start="-translate-x-full" x-transition:enter-end="translate-x-0" x-transition:leave="transition transform ease-in duration-200" x-transition:leave-start="translate-x-0" x-transition:leave-end="-translate-x-full" class="lg:hidden fixed inset-y-0 left-0 w-60 bg-slate-800 z-50 flex flex-col text-slate-300">
      <div class="flex items-center gap-3 px-4 h-14 border-b border-slate-700">
        <svg class="w-8 h-8 text-teal-400" viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="14" stroke="currentColor" stroke-width="2.5"/><path d="M10 20 Q16 8 22 20" stroke="currentColor" stroke-width="2" fill="none"/><circle cx="16" cy="14" r="3" fill="currentColor"/></svg>
        <span class="text-white font-semibold text-sm">Africa Multiple</span>
      </div>
      <nav class="flex-1 py-4 space-y-1 px-2">
        <a href="dashboard.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 text-sm">Dashboard</a>
        <a href="listing.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 text-sm">Persons</a>
        <a href="detail.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 text-sm pl-8 text-slate-400">Person Detail</a>
        <a href="projects.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg bg-teal-500/10 text-white text-sm font-medium">Projects</a>
        <a href="events.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 text-sm">Events</a>
        <a href="institutions.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-slate-700 text-sm">Institutions</a>
      </nav>
      <div class="border-t border-slate-700 p-3"><a href="../index.html" class="text-xs text-slate-500 hover:text-slate-300">All Prototypes</a></div>
    </div>

    <!-- Main Content -->
    <main :class="sidebarOpen ? 'lg:ml-60' : 'lg:ml-16'" class="flex-1 transition-all duration-300 mt-14 lg:mt-0">
      <div class="p-6 lg:p-8 max-w-7xl mx-auto">

        <!-- Page Header -->
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 anim-slide-up">
          <div>
            <h1 class="text-2xl font-bold text-slate-900">Projects</h1>
            <p class="text-sm text-slate-500 mt-1">Research projects with report tracking and funding overview</p>
          </div>
          <span class="px-2.5 py-1 rounded-full bg-teal-50 text-teal-700 text-xs font-medium" x-text="projects.length + ' projects'"></span>
        </div>

        <!-- Project Cards Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <template x-for="(project, idx) in projects" :key="project.id">
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 anim-slide-up" :style="'animation-delay: ' + (0.1 + idx * 0.1) + 's'">
              <!-- Header -->
              <div class="flex items-start justify-between mb-3">
                <div>
                  <h3 class="text-base font-semibold text-slate-900" x-text="project.name"></h3>
                  <p class="text-xs text-slate-500 mt-0.5">
                    <span x-text="'Project ID: ' + project.id"></span> &middot;
                    <span x-text="project.section + ' Section'"></span>
                  </p>
                </div>
              </div>

              <!-- Directors -->
              <div class="mb-3">
                <span class="text-xs text-slate-500">Directors:</span>
                <span class="text-sm text-slate-900 ml-1" x-text="project.directors.join(', ')"></span>
              </div>

              <!-- Duration & Report Info -->
              <div class="grid grid-cols-2 gap-3 mb-3">
                <div class="p-2.5 rounded-lg bg-slate-50">
                  <p class="text-[10px] text-slate-500 uppercase tracking-wide mb-0.5">Duration</p>
                  <p class="text-xs text-slate-900" x-text="project.start + ' to ' + project.end"></p>
                </div>
                <div class="p-2.5 rounded-lg" :class="project.reportRequested && !project.reportSubmitted ? 'bg-amber-50' : 'bg-slate-50'">
                  <p class="text-[10px] text-slate-500 uppercase tracking-wide mb-0.5">Report deadline</p>
                  <p class="text-xs" :class="project.reportRequested && !project.reportSubmitted ? 'text-amber-700 font-medium' : 'text-slate-900'" x-text="project.reportDeadline || 'Not set'"></p>
                </div>
              </div>

              <!-- Report Status -->
              <div class="flex items-center gap-3 mb-3">
                <div class="flex items-center gap-1.5">
                  <span class="text-xs text-slate-500">Report requested:</span>
                  <span class="px-1.5 py-0.5 rounded text-[10px] font-medium" :class="project.reportRequested ? 'bg-amber-100 text-amber-700' : 'bg-slate-100 text-slate-500'" x-text="project.reportRequested ? 'Yes' : 'No'"></span>
                </div>
                <div class="flex items-center gap-1.5">
                  <span class="text-xs text-slate-500">Report submitted:</span>
                  <span class="px-1.5 py-0.5 rounded text-[10px] font-medium" :class="project.reportSubmitted ? 'bg-emerald-100 text-emerald-700' : 'bg-slate-100 text-slate-500'" x-text="project.reportSubmitted ? 'Yes' : 'No'"></span>
                </div>
              </div>

              <!-- Funding: Requested & Approved -->
              <div class="flex items-center gap-4 mb-3 p-3 rounded-lg border border-slate-100">
                <div class="flex-1">
                  <p class="text-[10px] text-slate-500 uppercase tracking-wide">Requested</p>
                  <p class="text-sm font-semibold text-slate-900" x-text="'&#8364;' + formatCurrency(project.requested)"></p>
                </div>
                <div class="w-px h-8 bg-slate-200"></div>
                <div class="flex-1">
                  <p class="text-[10px] text-slate-500 uppercase tracking-wide">Approved</p>
                  <p class="text-sm font-semibold" :class="project.approved > 0 ? 'text-emerald-700' : 'text-slate-400'" x-text="project.approved > 0 ? '&#8364;' + formatCurrency(project.approved) : 'Pending'"></p>
                </div>
                <template x-if="project.approved > 0">
                  <div class="flex-1">
                    <p class="text-[10px] text-slate-500 uppercase tracking-wide">Approval Rate</p>
                    <p class="text-sm font-semibold text-slate-700" x-text="Math.round(project.approved / project.requested * 100) + '%'"></p>
                  </div>
                </template>
              </div>

              <!-- Publications -->
              <template x-if="project.publications.length > 0">
                <div class="pt-3 border-t border-slate-100">
                  <p class="text-xs font-medium text-slate-500 mb-2">Publications</p>
                  <div class="space-y-1.5">
                    <template x-for="pub in project.publications" :key="pub.year">
                      <div class="flex items-start gap-3 text-xs">
                        <span class="text-slate-500 w-10 shrink-0 font-medium" x-text="pub.year"></span>
                        <div class="flex-1">
                          <p class="text-slate-600"><span class="text-slate-400">Planned:</span> <span x-text="pub.planned"></span></p>
                          <p class="text-slate-600" x-show="pub.achieved"><span class="text-slate-400">Achieved:</span> <span x-text="pub.achieved"></span></p>
                          <p class="text-slate-600" x-show="pub.costs > 0"><span class="text-slate-400">Costs:</span> <span x-text="'&#8364;' + pub.costs.toLocaleString()"></span></p>
                        </div>
                      </div>
                    </template>
                  </div>
                </div>
              </template>
            </div>
          </template>
        </div>

      </div>
    </main>
  </div>

</body>
</html>
